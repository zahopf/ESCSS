@model ESCS.Domain.Goods
@{
    Layout = "~/Views/Shared/_LayoutEscs.cshtml";
}
    <link href="~/layui-v2.5.7/layui/css/layui.css" rel="stylesheet" />
    <script src="~/layui-v2.5.7/layui/layui.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/jquery.min.js"></script>
<script src="~/Content/bigpic.js"></script>
<link href="~/Content/bigpic.css" rel="stylesheet" />
<script src="~/Content/Quantity.js"></script>


    <div style=" height:23vh;width:100vw;">
    <div style="height: 8vh; width: 15vh; background-color: #ffffff; float:left;margin:5vh 0 0 25vw;border-radius:40%;text-align:center;font-size:35px;font-weight:600;color:#ff6a00;">
        <p>易购</p>
        <p style="font-size:25px;">YI GOU</p>
    </div>
    <div class="search-box" style="margin:6vh 10vw 0 0; float:right">
        <div data-toggle="arrowdown" id="arrow8" class="search-toggle">
            宝贝
        </div>
        <input class="search-in" type="text" name="goodsName" placeholder="    搜‘健康椅’试试，办公好选择">
        <input type="button" class="search-but" value="搜索" style="width:95px;">

    </div>
</div>


    <div style="width:100vw;height:auto;font-size:25px;font-weight:300;">
        <div style="width: 45vw; height: 500px; border: 5px solid #ff6a00;  border-radius: 10px; margin:0 0 0 27vw;">
            @using (Html.BeginForm())
            {
                <div class="box">
                    <div class="small" style="float:left; width:22vw;height:480px;margin:10px;float:left;">
                        <span class="mark">
                        </span>
                        <img style="width: 100%; height: 100%; " src="@Url.Content(Model.Picture)" />
                    </div>
                    <div class="boxbig">
                        <div class="big">
                            <img src="@Url.Content(Model.Picture)" alt="" />
                        </div>
                    </div>
                </div>
                
                <div style="float: left; width: 21vw; height: 400px;float:right;margin-top:30px;padding:60px 0 0 0;">
                    <form class="layui-form" action="">
                        <div class="layui-form-item">
                            <label class="layui-form-label">名字：</label>
                            <div class="layui-input-block">
                                @Html.DisplayFor(model => model.GoodsName, new { @class = "layui-input" })
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">分类：</label>
                            <div class="layui-input-block">
                                @Html.DisplayFor(model => model.GoodsKindId.KindName, new { @class = "layui-input" })
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">库存：</label>
                            <div class="layui-input-block">
                                @Html.DisplayFor(model => model.Stock, new { @class = "layui-input" })
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">价格：</label>
                            <div class="layui-input-block">
                                <p><span class="orange">￥&nbsp;</span><span class="orange">@Model.OutPrice.00</span><span class="send-free">包邮</span></p>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">数量：</label>
                            <div class="layui-input-block" style="margin-right:150px;">
                                @*<input type="number" name="Quantity" id="Quantity" style="width:100px;" placeholder="请输入" autocomplete="off" class="layui-input" value="1">*@
                                <input style="width:30px;" id="min" name="" type="button" value="-" />
                                <input style="width:60px;text-align:center;" min="1" max="@Model.Stock" id="Quantity" name="Quantity" type="text" value="1" />
                                <input style="width:30px;" id="add" name="" type="button" value="+" />
                            </div>
                        </div>
                        
                    </form>
                    @Html.HiddenFor(model => model.ID)
                    <div style="margin-top:80px;margin-left:30px;">
                        @Html.ActionLink("购买", "Purchase", new { id = Model.ID, Quantity = 1 }, new { onclick = "OnJAXBeginss()", @class = "layui-btn", id = "Purchasequantity" })
                        @Html.ActionLink("加入购物车", "Cart", new { ids = Model.ID, Quantity = 1 }, new { onclick = "OnJAXBegins()", @class = "layui-btn", id = "Carquantity" })
                    </div>

                </div>
            }
        </div>
    </div>
<div style="height:10vh;"></div>
@*<input type="button" value="测试" onclick="load()" />*@
<div id="alert" style="position: absolute; left: 45%; top: 350px; padding: 10px 10px 10px 10px; display: none; border: 1px solid #3c7aa4; border-radius: 4px;font-size:x-large;font-weight:600; "></div>
<script>


    function OnJAXBegins() {
        
        var account = $("#Quantity").val();
        if (account == "") {
            account = 1;
        }
        //alert(document.getElementById("Carquantity").href);
        document.getElementById("Carquantity").href = "http://localhost:7895/EasyShoppingCentre/Cart?ids="+@Model.ID+"&Quantity="+account;
        //alert(document.getElementById("Carquantity").href);
    }

    function OnJAXBeginss() {
        
        

        var account = $("#Quantity").val();

        if (account =="")
        {
            account = 1;
        }

        //alert(document.getElementById("Carquantity").href);
        document.getElementById("Purchasequantity").href = "http://localhost:7895/EasyShoppingCentre/Purchase?id=" +@Model.ID +"&Quantity=" + account;
        var id= document.getElementById("Purchasequantity").id
        //alert(document.getElementById("Purchasequantity").href);
    }
</script>
